<!DOCTYPE html>
<html class="writer-html5" lang="en">
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Buffers Tab &mdash; ZoneMinder  documentation</title>
      <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/theme.css" />
      <link rel="stylesheet" type="text/css" href="../../_static/zmstyle.css" />

  
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../../_static/doctools.js"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Control Tab" href="definemonitor_control.html" />
    <link rel="prev" title="Timestamp Tab" href="definemonitor_timestamp.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../index.html" class="icon icon-home">
            ZoneMinder
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../installationguide/index.html">Installation Guide</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">User Guide</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../introduction.html">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../components.html">Components</a></li>
<li class="toctree-l2"><a class="reference internal" href="../gettingstarted.html">Getting Started</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../definemonitor.html">Defining Monitors</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="definemonitor_add.html">Adding Monitors</a></li>
<li class="toctree-l3"><a class="reference internal" href="definemonitor_general.html">General Tab</a></li>
<li class="toctree-l3"><a class="reference internal" href="definemonitor_source.html">Source Tab</a></li>
<li class="toctree-l3"><a class="reference internal" href="definemonitor_analysis.html">Analysis Tab</a></li>
<li class="toctree-l3"><a class="reference internal" href="definemonitor_recording.html">Recording Tab</a></li>
<li class="toctree-l3"><a class="reference internal" href="definemonitor_viewing.html">Viewing Tab</a></li>
<li class="toctree-l3"><a class="reference internal" href="definemonitor_onvif.html">ONVIF Tab</a></li>
<li class="toctree-l3"><a class="reference internal" href="definemonitor_timestamp.html">Timestamp Tab</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Buffers Tab</a></li>
<li class="toctree-l3"><a class="reference internal" href="definemonitor_control.html">Control Tab</a></li>
<li class="toctree-l3"><a class="reference internal" href="definemonitor_x10.html">X10 Tab</a></li>
<li class="toctree-l3"><a class="reference internal" href="definemonitor_misc.html">Misc Tab</a></li>
<li class="toctree-l3"><a class="reference internal" href="definemonitor_mqtt.html">MQTT Tab</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../definezone.html">Defining Zones</a></li>
<li class="toctree-l2"><a class="reference internal" href="../viewmonitors.html">Viewing Monitors</a></li>
<li class="toctree-l2"><a class="reference internal" href="../filterevents.html">Filtering Events</a></li>
<li class="toctree-l2"><a class="reference internal" href="../viewevents.html">Viewing Events</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tags.html">Tags</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tags.html#filtering-with-tags">Filtering with Tags</a></li>
<li class="toctree-l2"><a class="reference internal" href="../options.html">Options</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cameracontrol.html">Camera Control</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cameracontrol.html#controlling-monitors">Controlling Monitors</a></li>
<li class="toctree-l2"><a class="reference internal" href="../mobile.html">Mobile Devices</a></li>
<li class="toctree-l2"><a class="reference internal" href="../logging.html">Logging</a></li>
<li class="toctree-l2"><a class="reference internal" href="../configfiles.html">Configuration Files</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../api.html">API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../faq.html">FAQ</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../contributing.html">Contributing</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">ZoneMinder</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../index.html">User Guide</a></li>
          <li class="breadcrumb-item"><a href="../definemonitor.html">Defining Monitors</a></li>
      <li class="breadcrumb-item active">Buffers Tab</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../_sources/userguide/definemonitor/definemonitor_buffers.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="buffers-tab">
<h1>Buffers Tab<a class="headerlink" href="#buffers-tab" title="Permalink to this heading"></a></h1>
<blockquote>
<div><p>The Buffers tab controls the image buffer parameters which set limits on the number of frames used for analysis and recording of events. When setting buffer parameters please keep in mind the FPS of the specific Monitor being defined as the actual time captured in the buffers is dependent on the FPS. Due to this, there are no specific default values that will work for all Monitors and care needs to be taken when setting these parameters. Note at the bottom of Buffers tab is an estimated RAM use summary to aid in parameter setting.</p>
</div></blockquote>
<figure class="align-default" id="id1">
<img alt="../../_images/define-monitor-buffers.png" src="../../_images/define-monitor-buffers.png" />
<figcaption>
<p><span class="caption-text">Monitor Buffers Tab</span><a class="headerlink" href="#id1" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<ul class="simple">
<li><p><strong>Image Buffer Size (frames)</strong>: This option determines how many frames are held in the ring buffer in the <code class="docutils literal notranslate"><span class="pre">/dev/shm</span></code> ramdisk. This ring buffer is used to store the raw RGB images that zms turns into JPEG images when live viewing.  In the past this needed to be large because it queued frames for analysis but that has been replaced by a dynamic packet queue. A value of 3 to 5 is sufficient for live viewing.</p></li>
<li><p><strong>Max Image Buffer Size (frames)</strong>: This option determines the maximum number of frames held in the ring buffer. Ideally this would be left blank but if there is any slowness in the database or disks the queue will fill up and consume available RAM. A reasonable setting would be 2 times the keyframe interval. Keep in mind that the buffer frames for all Monitors are stored in shared memory and making this too large may cause issues. If you find that your system will not let you use the value you want it is probably because your system has an arbitrary limit on the size of shared memory <code class="docutils literal notranslate"><span class="pre">/dev/shm</span></code> that may be used even though you may have plenty of free RAM available. This limit is usually fairly easy to change, see the <a class="reference internal" href="../../faq.html"><span class="doc">FAQ</span></a> section for details.</p></li>
<li><p><strong>Warmup Frames</strong>: This specifies how many frames the zma analysis daemon should process but not examine when it starts. This allows it to generate an accurate reference image from a series of images before looking too carefully for any changes. Setting this too high will cause it to take a long time to start, too low will result in false alarms when the zma analysis daemon starts up.</p></li>
<li><p><strong>Pre/Post Event Image Count</strong>: These options determine how many frames before and after an event should be preserved with it. This allows you to view what happened immediately prior and subsequent to the event. A value equal to FPS for both of these is a reasonable starting point. If this results in a lot of short events and if it is preferred to combine them together to form fewer longer events then increase the Post Event Image Count size. The pre-event buffer is a true buffer and should not really exceed half the Image Buffer ring buffer size. However the post-event buffer is just a count that is applied to captured frames and so can be managed more flexibly. You should also bear in mind the frame rate of the camera when choosing these values. For instance a network camera capturing at 1 FPS will give you 10 seconds before and after each event if you chose 10 here. This may be too long and pad out events more than necessary.</p></li>
<li><p><strong>Stream Replay Image Buffer</strong>: The number of frames buffered to allow pausing and rewinding of the stream when live viewing a monitor. A value of 0 disables the feature. Frames are buffered to <strong>ZM_PATH_SWAP</strong>, which is a ZoneMinder system path. Refer to <a class="reference internal" href="../configfiles.html"><span class="doc">Configuration Files</span></a> for information about updating system paths. If this path points to a physical drive, a lot of IO will be caused during live view / montage. If you experience high system load in those situations, either disable the feature or use a RAM drive for <strong>ZM_PATH_SWAP</strong>.</p></li>
<li><p><strong>Alarm Frame Count</strong>: This option allows you to specify how many consecutive alarm frames must occur before an alarm event is generated. The usual, and default, value is 1 which implies that any alarm frame will cause or participate in an event. You can enter any value up to 16 here to eliminate short-lived events not intended to be captured. Values over 3 or 4 are unlikely to be useful however. Please note that if you have statistics recording enabled then currently statistics are not recorded for the first ‘Alarm Frame Count’-1 frames of an event. So if you set this value to 5 then the first 4 frames will be missing statistics whereas the more usual value of 1 will ensure that all alarm frames have statistics recorded.</p></li>
</ul>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="definemonitor_timestamp.html" class="btn btn-neutral float-left" title="Timestamp Tab" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="definemonitor_control.html" class="btn btn-neutral float-right" title="Control Tab" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2014, https://github.com/ZoneMinder/ZoneMinder/graphs/contributors.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>